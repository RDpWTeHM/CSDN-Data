# v0.0.1 Django REST Framework

重新设计数据库架构



## *Overview*

[TOC]



## Django REST Framework

### install

`pip install djangorestframework`

`settings.py` :

```python
INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'CSDNCrawler.apps.CsdncrawlerConfig',

    #
    # Install (plug)
    #
    'rest_framework',
]

[...]

...static...

REST_FRAMEWORK = {
    # nothing for now
}

```



### Setup

#### URL: `/api/[...]`

`CSDNVisualize/urls.py`

```python
urlpatterns = [
    path('admin/', admin.site.urls),

    path('CSDNCrawler/', include('CSDNCrawler.urls')),
    path("api/", include('api.urls')),
]
```



`$ python manage.py startapp api`

`$ touch api/urls.py`

#### URL: `/api/v1/CSDNCrawler/[...]`

 `CSDN_data/CSDNVisualize/api/urls.py` :

```python
from django.urls import path, include

urlpatterns = [
    # "/api/v1/CSDNCrawler/"
    path('v1/CSDNCrawler/', include('CSDNCrawler.api.urls')),
]
```

`$ mkdir CSDNCrawler/api/`

```shell
$ cd CSDNCrawler/api/
$ touch urls.py
$ touch views.py
$ touch serializer.py
```

#### Response `^/api/v1/CSDNCrawler/####

`vim CSDNVisualize/CSDNCrawler/api/urls.py`

```python
from django.urls import path, re_path
from django.http import HttpResponse


urlpatterns = [
    # handler "/api/v1/CSDNCrawler/[.../]"
    path("", lambda request: HttpResponse("<h1>DRF => CSDNVisualize > CSDNCrawler</h1>")),

]

```

**test:**

`http://localhost:8000/api/v1/CSDNCrawler/`





